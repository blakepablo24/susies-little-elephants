{% extends 'admin/base.html.twig' %}

{% block main %}

    <main>
        
        <h2 class="main-title">Edit Post</h2>

       {{form_start(form, {'attr': {'novalidate':'novalidate', 'class': 'edit-family-form'}})}}
       
                {{form_widget(form.subject, {'attr': {'class': 'edit-family-form-field above-ckeditor'}})}}
                <div class="form-errors">{{form_errors(form.subject)}}</div>

                {{form_widget(form.content)}}
                <div class="form-errors">{{form_errors(form.content)}}</div>
                
                {% if editPost.imageFileName == null %} 

                    <div class="upload-btn-wrapper">
                        <button class="btn">Upload an Image</button>
                        {{form_widget(form.image, {'label': 'Upload New Image'})}}
                        <div class="form-errors">{{form_errors(form.image)}}</div>
                    </div>
                    <img  class="timeline-post-image" src="" alt="">

                {% else %}
                    
                    <div class="current-uploaded-image">
                        <p>Current Image</p>
                        <img  class="timeline-post-image" src="{{asset('assets/img/posts/' ~ editPost.imageFileName)}}" alt="">
                    </div>

                    <div class="upload-btn-wrapper">
                        <button class="btn">Edit Image</button>
                        {{form_widget(form.image, {'label': 'Upload a different image'})}}
                        <div class="form-errors">{{form_errors(form.image)}}</div>
                    </div>
                    
                {% endif %}

                <div class="form-errors">{{form_errors(form.image)}}</div>
                
                {{form_widget(form.Update, {'attr': {'class': 'submit-button'}})}}

        {{form_end(form)}}

    </main>

{% endblock %}